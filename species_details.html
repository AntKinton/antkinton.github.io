<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JSON</title>
  <link rel="icon" type="image/x-icon" href="images/antsplan.jpg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="estilos.css">
</head>

<body style="padding-bottom: 60px;">
  <div class="container-fluid cover-photo" style="background-image: url('images/messor.jpg');
       height: 100px;
       background-size: cover;
       background-position: center;">

  </div>

  <!-- Barra superior de navegación -->
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container-md">

      <a class="navbar-brand" href="index.html">Antsplan</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active"><a class="nav-link" href="index.html">Inicio</a></li>
          <li class="nav-item left-divider"><a class="nav-link" href="forms.html">Formularios</a></li>
          <li class="nav-item"><a class="nav-link" href="json.html">JSON</a></li>
          <li class="nav-item right-divider"><a class="nav-link" href="app.html">Aplicación</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Especies</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">Acerca de</a></li>
          <li class="nav-item"><a class="nav-link" href="links.html">Enlaces</a></li>
        </ul>
      </div>
    </div>
  </nav>


  <div class="container-md" style="margin-top: 8px;">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Inicio</a></li>
        <li class="breadcrumb-item"><a href="forms.html">Formularios</a></li>
        <li class="breadcrumb-item"><a href="json.html">JSON</a></li>
        <li class="breadcrumb-item active" aria-current="page">Ficha técnica</a></li>

      </ol>
    </nav>
  </div>

  <div class="container-fluid">
    <div class="container-md">
      <section id="speciesDetails">
      </section>
    </div>
  </div>

  <!-- Pie de página -->
  <div class="container-fluid py-2 text-left fixed-bottom" style="background-color: #343a40; color: #ffffff; text-align: left; padding: 20px;">
    Antsplan, tu web de mirmecologia.
  </div>

  <!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<script>

  const antsCollection = {
      "name": "Listado de Hormigas",
      "hormigas": [{
          "subfamilia": "Formicinae",
          "generos": [{
              "nombre": "Camponotus",
              "especies": [{
                  "_id": 1,
                  "nombre": "floridanus",
                  "regiones": [
                    "Sureste de Estados Unidos",
                    "México"
                  ]
                },
                {
                  "_id": 2,
                  "nombre": "foreli",
                  "regiones": [
                    "Europa"
                  ]
                },
                {
                  "_id": 3,
                  "nombre": "cruentatus",
                  "regiones": [
                    "Europa",
                    "Norte de África"
                  ]
                }
              ]
            },
            {
              "nombre": "Formica",
              "especies": [{
                  "_id": 15,
                  "nombre": "rufa",
                  "regiones": [
                    "Europa",
                    "Asia"
                  ]
                },
                {
                  "_id": 4,
                  "nombre": "rufibarbis",
                  "regiones": [
                    "Europa"
                  ]
                }
              ]
            }
          ]
        },
        {
          "subfamilia": "Myrmicinae",
          "generos": [{
              "nombre": "Atta",
              "especies": [{
                "_id": 5,
                "nombre": "cephalotes",
                "regiones": [
                  "América del Sur",
                  "Centroamérica",
                  "Caribe"
                ]
              }]
            },
            {
              "nombre": "Pheidole",
              "especies": [{
                  "_id": 6,
                  "nombre": "megacephala",
                  "regiones": [
                    "África",
                    "Asia",
                    "Oceanía",
                    "América"
                  ]
                },
                {
                  "_id": 7,
                  "nombre": "pallidula",
                  "regiones": [
                    "Europa",
                    "África del Norte"
                  ]
                }
              ]
            },
            {
              "nombre": "Messor",
              "especies": [{
                  "_id": 8,
                  "nombre": "barbarus",
                  "regiones": [
                    "Europa",
                    "África del Norte"
                  ]
                },
                {
                  "_id": 9,
                  "nombre": "capitatus",
                  "regiones": [
                    "Europa",
                    "África del Norte"
                  ]
                }
              ]
            },
            {
              "nombre": "Aphaenogaster",
              "especies": [{
                  "_id": 10,
                  "nombre": "iberica",
                  "regiones": [
                    "Europa"
                  ]
                },
                {
                  "_id": 11,
                  "nombre": "senilis",
                  "regiones": [
                    "Europa",
                    "África"
                  ]
                }
              ]
            },
            {
              "nombre": "Iberoformica",
              "especies": [{
                "_id": 12,
                "nombre": "subrufa",
                "regiones": [
                  "Peninsula ibérica"
                ]
              }]
            },
            {
              "nombre": "Cataglyphis",
              "especies": [{
                  "_id": 14,
                  "nombre": "velox",
                  "regiones": [
                    "Europa",
                    "Norte de África",
                    "Oriente Medio"
                  ]
                },
                {
                  "_id": 13,
                  "nombre": "iberica",
                  "regiones": [
                    "Europa"
                  ]
                }
              ]
            }
          ]
        }
      ]
    };

    // Obtener el ID de la especie de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const especieId = parseInt(urlParams.get('id'));

    // Buscar la especie en antsCollection
    let especieEncontrada = null;
    var subFamilia = null;
    var generoName = null;
    for (let i = 0; i < antsCollection.hormigas.length; i++) {
      subFamilia = antsCollection.hormigas[i].subfamilia;
      const generos = antsCollection.hormigas[i].generos;
      for (let j = 0; j < generos.length; j++) {
        generoName = generos[j].nombre;
        const especies = generos[j].especies;
        for (let k = 0; k < especies.length; k++) {
          if (especies[k]._id === especieId) {
            especieEncontrada = especies[k];
            break;
          }
        }
        if (especieEncontrada) {
          break;
        }
      }
      if (especieEncontrada) {
        break;
      }
    }
    // Mostrar los detalles de la especie
    if (especieEncontrada) {
      const speciesDetailsDiv = document.getElementById('speciesDetails');
      const especieNombre = especieEncontrada.nombre;
      //const especieGenero = especieEncontrada.subfamilia;
      const especieRegiones = especieEncontrada.regiones;

      const detailsHTML = ` <p>
    <strong>Especie:</strong> ${generoName} ${especieNombre}</p>
    <p><strong>Subfamilia:</strong> ${subFamilia}</p>
    <p><strong>Regiones:</strong> ${especieRegiones.join(', ')}</p>
    `;
      speciesDetailsDiv.innerHTML = detailsHTML;
    } else {
      const speciesDetailsDiv = document.getElementById('speciesDetails');
      speciesDetailsDiv.textContent = 'Especie no encontrada';
    }
  </script>

</body>

</html>
